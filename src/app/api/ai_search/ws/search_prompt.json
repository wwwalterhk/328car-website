{
    "initial":
[
  "建立本次搜尋任務識別碼，初始化處理流程。",
  "讀取輸入文字並做基本清理：多餘空格、重覆標點、換行。",
  "分段處理長句，按逗號與連接詞切分成條件片段。",
  "抽取品牌線索並映射到標準品牌清單。",
  "抽取車系／型號線索並保留原文與標準化版本。",
  "抽取車身類型詞彙並映射到分類碼（房車／SUV／MPV 等）。",
  "抽取動力類型詞彙並標準化標籤（汽油／柴油／混能／純電）。",
  "抽取變速箱詞彙並標準化標籤（AT／MT／CVT／DCT）。",
  "抽取座位數表述並轉換為可比較欄位（5、7、5+2）。",
  "抽取年份表述並解析為起訖範圍。",
  "抽取預算表述並解析為最低／最高範圍。",
  "抽取里數表述並統一為 km 數值（如可解析）。",
  "抽取排量表述並統一為 cc 數值（如可解析）。",
  "抽取功率表述並保留單位（kW／hp／ps）供後續統一。",
  "抽取顏色詞彙並轉成色系標籤（深色／淺色／指定色）。",
  "整理同義詞集合（例如：揭背／掀背、旅行車／旅行版）。",
  "整理常見縮寫與別名（例如：EV、PHEV、Hybrid）並轉為標準標籤。",
  "統一品牌拼寫格式（中英混用、大小寫、連字號）。",
  "統一型號格式（空格、斜線、代號混排）以便後續匹配。",
  "辨識可能的世代代號（如 F30、W205）並獨立存放。",
  "辨識可能的改款／facelift 線索並標記為版本提示。",
  "把模糊詞彙（例如：新淨、少里數、慳油）轉成可選偏好標籤。",
  "建立硬條件清單：必須滿足的欄位與範圍。",
  "建立軟條件清單：偏好項與可接受替代。",
  "建立加分項清單：用於後續排序權重。",
  "是否需要把「代步」解讀為更重視舒適與油耗？",
  "是否需要把「家庭」解讀為更重視空間與安全配備？",
  "是否需要把「跑格」解讀為更重視動力與操控取向？",
  "檢查條件間是否互相矛盾（例如：車身類型與座位數不匹配）。",
  "檢查條件缺漏（例如：未提供年份或預算）並採用不設限策略。",
  "設定預設地區口徑為香港在售車源分類。",
  "初始化查詢欄位白名單，限制只處理必要字段。",
  "初始化欄位清洗規則：空值、異常值、格式不一致的處理方式。",
  "設定價格欄位策略：原價／優惠價／未標價分流處理。",
  "設定年份欄位策略：缺年份維持未知，不作臆測。",
  "設定里數欄位策略：不可解析則標記為待核對。",
  "設定排量欄位策略：L 與 cc 互轉並保留原始表述。",
  "設定動力欄位策略：多標籤情況（混能＋插電）優先保留更精準標籤。",
  "設定變速箱欄位策略：混合描述（如「自動 CVT」）拆分成主類型與子類型。",
  "建立車身類型對照表：把非標準詞彙映射到標準分類。",
  "建立座位數對照表：把「五座」等文字轉為數值。",
  "建立顏色對照表：把「深灰」等映射到色系與具體色名。",
  "是否需要把「不限品牌」視為不加品牌篩選？",
  "是否需要把「不限顏色」視為不加顏色篩選？",
  "是否需要把「越新越好」轉為年份排序加權？",
  "是否需要把「里數越低越好」轉為里數排序加權？",
  "建立關鍵字排除清單（例如：零件、代訂、求購）以減少噪音結果。",
  "建立去重策略雛形：按車源 ID 優先，其次標題相似度。",
  "建立資料完整度評分框架：核心欄位缺失將降低優先度。",
  "建立資訊可信度初始指標：描述與欄位一致性作為參考項。",
  "建立候選容器：保留原始資料與清洗後資料兩份版本。",
  "建立解析日誌欄位，記錄每次轉換與映射結果。",
  "設定字元正規化規則：全形／半形、中文數字轉阿拉伯數字。",
  "設定區間解析規則：例如「15–20 萬」「15至20萬」統一格式。",
  "設定比較運算規則：上限、下限、閉區間、開區間的口徑一致。",
  "把「左右」「上下」等模糊量詞轉為可接受誤差範圍標記。",
  "是否需要把「慳油」拆成油耗偏好與排量偏好兩個訊號？",
  "是否需要把「易泊」拆成車長／車闊／迴旋半徑偏好？",
  "是否需要把「靜」拆成隔音偏好與胎噪敏感度標記？",
  "建立初步排序策略：先匹配硬條件，再按軟條件計分。",
  "建立輸出數量上限，確保結果可閱讀。",
  "建立分組策略雛形：按車身類型或動力類型分段。",
  "設定時間新鮮度標記：貼文更新時間作為後續參考維度。",
  "設定文本相似度閾值，用於合併近似貼文。",
  "設定品牌／型號容錯匹配規則（拼寫差異、空格差異）。",
  "設定型號代號保留規則：代號存在時優先用作精準匹配。",
  "建立候選狀態機：未篩選、已解析、待查詢、可比較。",
  "建立「需釐清」標籤：把不確定條件集中收納。",
  "建立「可放寬」標籤：把可退讓條件集中收納。",
  "建立「必鎖定」標籤：把不可退讓條件集中收納。",
  "是否需要將「只想某車款」視為型號精準查找模式？",
  "是否需要將「同級即可」視為擴展到相近車級的搜尋模式？",
  "是否需要將「日常代步」視為更重視維護成本與可靠度？",
  "設定欄位優先級：存在多來源時以哪個欄位為準。",
  "設定缺值回填策略：僅回填可由文本直接推導的值。",
  "設定錯誤處理策略：單筆解析失敗不影響整體流程。",
  "設定輸出語氣規則：中性、克制、避免推銷式用語。",
  "建立進度提示模板集合，供 UI 顯示一致文案。",
  "建立「解析完成」檢查點：所有核心欄位均已建立或標記未知。",
  "校對映射表版本：品牌、車身類型、動力、變速箱的對照一致。",
  "校對數值解析：避免把年份誤當價格或把排量誤當里數。",
  "校對貨幣符號與單位：萬、k、HKD 的轉換口徑一致。",
  "整理初始查詢參數包，準備交由篩選階段使用。",
  "生成初步條件摘要（僅結構化欄位，不加入推論）。",
  "生成初步偏好摘要（僅從明示文字抽取，不擴大解讀）。",
  "標記需要後續再確認的欄位（例如：版本、配備、里數）。",
  "建立初始候選空集合，準備接收車源資料。",
  "完成輸入解析與規則初始化，轉入車源篩選流程。"
]

,
   "middle":
[
  "讀取車源清單並套用硬條件做第一輪裁剪。",
  "移除年份、預算、座位數明顯不符的項目。",
  "將車身類型標籤統一到同一分類口徑，方便批量比對。",
  "將動力類型標籤統一（汽油／柴油／混能／純電），避免混用。",
  "將變速箱描述標準化（AT／MT／CVT／DCT），拆分主類型與子類型。",
  "把排量寫法（1.5L／1500cc）轉換成一致單位並保留原文備註。",
  "把里數欄位轉成數值格式，無法解析者標記為待核對。",
  "整理價格欄位：原價、優惠價、未標價分流處理。",
  "清理重覆刊登：按車源 ID 優先去重，其次標題相似度。",
  "合併相片集合高度相似的貼文，減少同一車源重覆出現。",
  "校正品牌／型號拼寫差異，避免同車系被拆成多組。",
  "建立車系聚合鍵（品牌＋車系＋版本），把候選集中到可比較桶。",
  "識別同名車系的不同世代並分流，避免跨代混比。",
  "把改款／facelift 線索拆成版本標記，供後續排序使用。",
  "比對同款不同年份差異點，補上版本對照資訊。",
  "檢查貼文更新時間，將疑似過期結果降低權重。",
  "建立資料完整度分數，缺核心欄位者先降級處理。",
  "建立描述一致性分數，檢查欄位與文案是否互相矛盾。",
  "抽取配備關鍵字：安全、泊車、手機連接，轉成結構化欄位。",
  "標記主動安全配備（AEB、盲點、車道輔助）可得性。",
  "標記泊車配備（倒車鏡頭、感應、360）可得性。",
  "標記手機連接（CarPlay／Android Auto）可得性。",
  "整理座位配置資訊，分辨 7 座與 5+2 座並加註提示。",
  "整理空間線索：後排可用性、尾箱容量、放倒彈性等描述。",
  "建立尺寸／泊車友好度的參考欄位，作為排序加權。",
  "建立舒適取向欄位（隔音、座椅、懸掛）並抽取相關描述。",
  "建立操控取向欄位（驅動形式、底盤取向）並抽取相關描述。",
  "將驅動形式（前驅／後驅／四驅）轉為標準標籤。",
  "對同級候選建立對照組，確保比較在同一維度上進行。",
  "為候選建立「可比較」狀態，缺欄位者先移到待補充區。",
  "檢視相片線索：鈑金縫隙與色差，僅作提示標記。",
  "檢視相片線索：輪胎耗損與輪圈狀態，補充車況訊號。",
  "檢視相片線索：內籠磨損與里數敘述一致性，提升可信度評估。",
  "交叉核對相片與文字描述，標記明顯落差項目。",
  "建立風險標籤：事故描述、文件缺漏、改裝線索（僅按可見資訊）。",
  "將候選分層：符合硬條件／接近符合／需釐清，方便後續收斂。",
  "重新跑一次去噪：移除零件、代訂、求購等非車源內容。",
  "將非結構化描述轉成可比較短標籤，減少文字雜訊。",
  "整理同一車系不同版本的配備差異，避免錯誤等同比較。",
  "把多語言或口語混雜字段正規化，統一輸出口徑。",
  "把異常值（例如不合理年份或排量）移到待核對清單。",
  "為每筆車源補上缺值標記（未提供／不明），避免誤當為零。",
  "建立匹配度分數：硬條件命中為基礎，軟條件作加權。",
  "把資料完整度分數與匹配度分數合併成初步排序。",
  "把風險標籤納入排序扣分，避免高風險項目排得過前。",
  "建立候選分級門檻：優先、可考慮、需注意三段式。",
  "是否需要把「越新」提升為排序主要權重之一？",
  "是否需要把「里數更低」提升為排序主要權重之一？",
  "是否需要把「配備齊」視為加分項而非硬條件？",
  "要不要把「貼文更新時間」作為新鮮度加權？",
  "要不要把「資料完整度」設為最低門檻，低於門檻直接降級？",
  "是否需要把「版本不明」統一放入待核對區，避免干擾排序？",
  "要不要把同一車源的多貼文合併成單一視圖以便比較？",
  "是否需要把同級候選限制在固定數量，避免輸出過長？",
  "要不要先按車身類型分段，再在段內排序？",
  "是否需要把動力類型分段展示，提升閱讀效率？",
  "對候選建立「資料可信度」指標：一致性、完整度、相片覆蓋度。",
  "把相片不足的車源標記為「相片有限」，僅作資訊提示。",
  "把描述過短的車源標記為「描述有限」，僅作資訊提示。",
  "把關鍵欄位齊全的車源標記為「資訊完整」，提升優先度。",
  "為每組車系建立代表候選，避免同款大量重覆佔位。",
  "把同一車系的不同價位段拆分成子組，方便後續對照。",
  "建立「可替代」候選池：接近條件但可作備選的車款。",
  "把備選車款與主候選分開排序，保持輸出清晰。",
  "整理常見耗材線索（輪胎尺寸、煞車規格）作為背景欄位。",
  "整理保養線索關鍵字（原廠、全記錄、單據）並轉為標籤。",
  "把「保養紀錄不明」標記為需核對，不作正負判斷。",
  "把「一手／二手」等來源描述轉成來源標籤（如有）。",
  "把「行貨／水貨」等描述轉成來源標籤（如有）。",
  "對疑似跨區或非香港車源標記為「來源需確認」，避免誤入主清單。",
  "清理重覆圖片連結與失效連結，降低後續處理成本。",
  "整理外觀色系與內籠配色線索，統一到可比較標籤。",
  "把「深色／淺色」偏好轉為色系過濾器（如適用）。",
  "把「五門／四門」等描述轉成車門數標籤（如有）。",
  "把「天窗／電尾門」等高頻配備轉成快速比對欄位。",
  "把「自動泊車」等進階配備轉成加分項標籤（如有）。",
  "對關鍵字段進行一致性校對：年份、排量、動力、座位數。",
  "對標題與內容的型號差異做校對，疑似錯配者標記待核對。",
  "將候選按可信度排序後，再按匹配度微調名次。",
  "建立中期清單快照，固定本輪篩選結果供後續收斂。",
  "對中期清單做覆核：去重是否過度、分流是否合理。",
  "把「條件接近」但缺資料的候選移至補充區，避免干擾主排序。",
  "把「資料完整」但匹配度稍低的候選保留作替代方案。",
  "把候選的關鍵差異點濃縮成短句，準備輸出摘要用。",
  "校對欄位單位顯示：萬、k、km、cc 的呈現一致。",
  "校對文字用語：避免口號化與情緒化形容詞。",
  "移除語意重覆的標籤，避免同一訊息以多種方式重覆呈現。",
  "建立最終輸出所需欄位集合，提前剔除不會用到的字段。",
  "對候選建立「需核對清單」字段，集中列出未知或矛盾項。",
  "重新平衡排序權重，避免單一維度主導全部結果。",
  "生成分組策略：主候選、替代候選、待核對候選三段式。",
  "確認分組後的每段候選數量，避免某一段過長。",
  "完成中段資料規整與排序準備，轉入最終摘要階段。"
]
,
    "final":
[
  "鎖定最終候選集合，凍結本輪清單避免排序漂移。",
  "重新計算最終匹配度分數，確保每筆候選使用同一公式。",
  "重新計算資料完整度分數，缺核心欄位者維持降級處理。",
  "重新計算一致性分數，將描述與欄位矛盾項下調排名。",
  "整合風險標籤到最終排序扣分，避免高風險項目靠前。",
  "套用最終排序規則：先匹配度，再可信度，最後新鮮度。",
  "對同一車系的多版本做最後一次分流，避免混排。",
  "對同級候選做最後對照，保留差異最清晰的代表項。",
  "收斂主清單數量到可掃讀範圍，移除資訊重覆的項目。",
  "建立替代清單：條件接近但有一兩項偏差的備選。",
  "建立待核對清單：關鍵欄位不明或前後不一致的候選。",
  "為每個候選產生一句定位摘要，統一句式與長度。",
  "為每個候選提取 2–3 個亮點標籤，避免堆疊形容詞。",
  "為每個候選提取 1–2 個限制標籤，保持資訊平衡。",
  "把年份、排量、動力、座位等核心字段按固定順序輸出。",
  "把安全、泊車、手機連接三類配備按固定順序輸出。",
  "將缺失字段明確標示為「未提供／待核對」，不作推測補全。",
  "把相片檢視結果濃縮為中性提示語，避免結論式語氣。",
  "把疑似落差項統一標記為「需核對」，不使用肯定判斷。",
  "把貼文更新時間轉為新鮮度提示，僅作參考描述。",
  "整理每個候選的可驗證清單：文件、保養、里數、配備。",
  "整理試車觀察點：起步、加速、轉向、制動、異響。",
  "整理檢查點：冷氣、底盤、輪胎、煞車、滲漏。",
  "整理交收前核對點：車主資料、文件齊全度（如有資訊）。",
  "校對品牌／車系／型號名稱，確保同一命名口徑。",
  "校對世代與改款標記，避免把不同代混作同一版本。",
  "校對單位顯示：km、cc、kW 的格式統一。",
  "校對數字顯示：千位分隔、範圍符號、缺值符號統一。",
  "校對標點與換行節奏，確保整體閱讀一致。",
  "移除重覆訊息：同一點不以不同句式重覆表達。",
  "把過長句子壓縮到可掃讀長度，保留關鍵資訊。",
  "是否需要把主清單按車身類型分段輸出？",
  "是否需要把主清單按動力類型分段輸出？",
  "要不要把同一車系的多版本合併成單一條目並列差異？",
  "要不要把更新時間較舊的候選集中放在「需注意」段落？",
  "是否需要把資料完整度設定為輸出門檻，低於門檻不進主清單？",
  "要不要把配備資訊不足的候選移到待核對清單？",
  "是否需要在每個候選後加上「建議核對項」兩點提示？",
  "要不要把排序前 3 名加上更精簡的總結句？",
  "是否需要控制每段最多顯示固定數量，避免輸出過長？",
  "是否需要把相片不足的候選加上「相片有限」提示？",
  "是否需要把描述過短的候選加上「描述有限」提示？",
  "建立輸出結構：總覽摘要 → 主清單 → 替代清單 → 待核對清單。",
  "生成總覽摘要句，概括候選分佈與主要取向。",
  "生成主清單段落標題，保持克制、無口號化用語。",
  "生成替代清單段落標題，清楚表明其為備選定位。",
  "生成待核對段落標題，清楚表明需補充資訊。",
  "為每個候選生成一致格式的三行摘要：定位／亮點／限制。",
  "為每個候選整理對照欄位，方便橫向比較。",
  "將關鍵差異點加粗改為以詞組呈現，避免視覺干擾。",
  "對同級候選加入簡短對照句，指出主要取捨方向。",
  "將模糊詞彙改為可核對描述，例如以「資訊未提供」替代猜測。",
  "檢查是否出現推銷式用語，統一改為中性描述。",
  "檢查是否出現情緒化詞彙，統一改為客觀詞組。",
  "檢查是否出現「請稍等」等等待語，全部移除。",
  "檢查是否提及系統或模型名稱，全部移除。",
  "檢查是否暗示取得未提供資料，修正為「未提供／需核對」。",
  "確認每個候選至少包含核心字段，否則下放到待核對清單。",
  "確認每段落的候選數量均衡，避免單段過密。",
  "確認段落順序符合閱讀習慣：先最相關，再次相關。",
  "對排序結果做穩定性檢查：小變動不應引起大跳位。",
  "對同一車系的多候選做去重複檢查，避免佔據過多版面。",
  "對候選清單做最後一致性校對：欄位順序完全對齊。",
  "對候選摘要做最後長度校對：每筆句數與行數一致。",
  "生成最終輸出文字，套用固定模板與欄位順序。",
  "生成最終輸出時保留空值標記，避免看似缺漏。",
  "生成最終輸出時保留風險標籤，作為中性提示。",
  "為主清單生成簡短「核對要點」尾段，集中列出要檢查事項。",
  "為替代清單生成簡短「適用情境」提示，說明其定位。",
  "為待核對清單生成簡短「缺失欄位」提示，便於補充資訊。",
  "是否需要把輸出轉成 JSON 結構以便前端渲染？",
  "是否需要把每個候選附上排序分數拆解（僅顯示可理解指標）？",
  "要不要把相片核對結果僅保留為一行提示，避免冗長？",
  "是否需要把「需核對」項集中到候選末尾，避免打斷閱讀？",
  "是否需要把重要限制放在亮點之前，以降低誤解？",
  "要不要把同級替代選項以「A／B」並列格式呈現？",
  "檢查輸出是否包含重覆標籤，去除語意重覆詞組。",
  "檢查輸出中的專有名詞大小寫與分隔符一致性。",
  "檢查輸出中的數字範圍符號（–／-／至）統一為同一形式。",
  "檢查輸出中的標點全形半形統一，提升視覺一致性。",
  "對輸出做最後可讀性檢查：行距、換行、段落長度合理。",
  "對輸出做最後一致性檢查：每段落標題風格一致。",
  "對輸出做最後完整性檢查：四個段落均有內容或清楚標示空段。",
  "建立最終結果快照，準備回傳固定版本內容。",
  "完成最終編排與校對，準備輸出清晰的比較摘要。"
]


}